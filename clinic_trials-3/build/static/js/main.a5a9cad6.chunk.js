(this.webpackJsonpclinic_trials=this.webpackJsonpclinic_trials||[]).push([[0],{10:function(e,t,a){},23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),i=(a(28),a(5)),s=a(12),o=a(1),u=(a(3),a(10),"http://localhost:4000/api/");function m(e){var t,a=d(void 0===e.location.state?"":e.location.state.user),r=d(""),c=Object(n.useState)(""),s=Object(o.a)(c,2),m=s[0],f=s[1],E=Object(n.useRef)(null);return Object(n.useEffect)((function(){E.current.focus()}),[]),t="Login",Object(n.useEffect)((function(){document.title=t})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 loginPageMarginBanner"}),l.a.createElement("div",{className:"col-lg-4 loginPageMarginTop",style:{border:"10px solid darkgrey",borderRadius:"20px"}},l.a.createElement("h3",null,"User Login"),l.a.createElement("p",{className:""!==m.trim()?"alert alert-danger LoginInputTextSize":""},m),l.a.createElement("form",{onSubmit:function(t){if(a.value.length<1)return f("Username required"),void t.preventDefault();if(r.value.length<1)return f("Password required"),void t.preventDefault();f("");var n={username:a.value.trim(),password:r.value.trim()};fetch(u+"user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){if(!JSON.stringify(t).includes("Username or password incorrect"))return e.history.push("/DashBoard",{user:t});f("Username or Password Incorrect")})).catch((function(e){console.log(e)})),t.preventDefault()}},l.a.createElement("span",{className:"logintextheader"},"Username"),"\xa0",l.a.createElement("input",{type:"text",ref:E,value:a.value,onChange:a.onChange,className:"form-control LoginInputTextSize",placeholder:"Enter Username"}),l.a.createElement("span",{className:"logintextheader"},"Password"),"\xa0",l.a.createElement("input",{type:"password",value:r.value,onChange:r.onChange,className:"form-control LoginInputTextSize",placeholder:"Enter Password"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary loginbutton"},"Login"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"loginbutton"},"Forgot Password? Click ",l.a.createElement(i.b,{to:"/ForgotPassword"},"Here")),"\xa0")),l.a.createElement("div",{className:"col-md-4 loginPageMarginBanner"}))}function d(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)}}}function f(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),b=h[0],p=h[1],g=Object(n.useRef)(null);return Object(n.useEffect)((function(){document.title="Forgot Password",g.current.focus()})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 loginPageMarginBanner"}),l.a.createElement("div",{className:"col-lg-4 loginPageMarginTop",style:{border:"1px solid black",borderRadius:"20px"}},l.a.createElement("h3",null,"Reset Password"),l.a.createElement("p",{className:""!==d.trim()?"alert alert-danger LoginInputTextSize":""},d),l.a.createElement("p",{className:""!==b.trim()?"alert alert-info LoginInputTextSize":""},b),l.a.createElement("form",{onSubmit:function(t){if(r.length<1)return f("Username or email required"),void t.preventDefault();f(""),fetch(u+"user/resetpassword/"+r,{method:"PUT",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(t){"OK"===t?(p("Password Reset Successfully!. Kindly use user1 to login and change your password there after."),setTimeout((function(){return e.history.push("/Login",{user:r})}),5e3)):f("Username not found")})).catch((function(e){f("An error occured while trying to change the password")})),t.preventDefault()}},l.a.createElement("span",{className:"logintextheader"},"Username"),"\xa0",l.a.createElement("input",{type:"text",value:r,onChange:function(e){f(""),c(e.target.value)},className:"form-control LoginInputTextSize",placeholder:"Enter Username",ref:g}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-primary loginbutton"},"Reset Password"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("span",{className:"loginbutton"},"Click ",l.a.createElement(i.b,{to:"/Login"},"Here")," To Login"),"\xa0",l.a.createElement("br",null))),l.a.createElement("div",{className:"col-md-4 loginPageMarginBanner"}))}a(34);var E=function(e){return void 0===e.role?l.a.createElement(s.a,{to:"/Login"}):l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"navbar-brand"},"Clinical Management System"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/ManagePatient",state:{props:e}},className:"nav-link"},"Manage patients")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managestaff",state:{props:e}},className:"nav-link"},"Manage Staff")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managedepartment",state:{props:e}},className:"nav-link"},"Manage Departments")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managedisease",state:{props:e}},className:"nav-link"},"Manage Diseases")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managecomplaints",state:{props:e}},className:"nav-link"},"Complaints")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managetests",state:{props:e}},className:"nav-link"},"Tests")),l.a.createElement("li",{className:"nav-item",style:{visibility:e.role.includes("All")?"visible":"hidden"}},l.a.createElement(i.b,{to:{pathname:"/managereports",state:{props:e}},className:"nav-link"},"View Reports"))),l.a.createElement("p",null,"Welcome: ",e.user.username," ",l.a.createElement(i.b,{to:"/Login",className:"btn btn-success"},"Sign-Out")," ")))};function h(e){if(void 0===e)return l.a.createElement(s.a,{to:"/Login"});var t=e.location.state.user.role.can_access;return l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.user,role:t}),l.a.createElement("br",null))}var b=a(2),p=a.n(b),g=a(6),y=a(11);function v(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(0),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useRef)(null),E=Object(n.useState)(0),h=Object(o.a)(E,2),b=h[0],p=h[1];Object(n.useEffect)((function(){f.current.focus()}),[]);return l.a.createElement("div",null,l.a.createElement("h3",null,"Schedule Patient"),l.a.createElement("br",null),"Name : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.name),l.a.createElement("br",null),"Email Address : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.email),l.a.createElement("br",null),"Mobile Number : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.mobilenumber),l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Enter Blood Pressure"),"\xa0",l.a.createElement("input",{type:"number",ref:f,value:r,onChange:function(e){c(e.target.value)},className:"form-control LoginInputTextSize",placeholder:"Enter BP"}),l.a.createElement("span",{className:"logintextheader"},"Enter Weight"),"\xa0",l.a.createElement("input",{type:"number",value:m,onChange:function(e){d(e.target.value)},className:"form-control LoginInputTextSize",placeholder:"Enter Weight"}),l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Select Doctor"),"\xa0",l.a.createElement("select",{value:b,onChange:function(e){p(e.target.value)},className:"form-control ",style:{width:"50%",marginLeft:"20px"}},l.a.createElement("option",{value:"",key:"0"},"--Select--"),void 0!==e.doctorList&&e.doctorList.length>0?e.doctorList.map((function(e,t){return l.a.createElement("option",{value:e.id,key:t},e.name)})):0),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(t){if(0===r)return alert("Enter patient bp");if(0===m)return alert("Enter patient weight");if(b<1)return alert("Select a doctor for this patient");var a={patientid:e.userdata.id,datevisited:(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate(),weight:m,bp:r,attendedto:"FALSE",doctorvisited:b};fetch(u+"medicalhistory/schedule",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){alert("Patient scheduled successfully!"),window.location.reload(!0)})).catch((function(e){alert("An error occured while processing your request!.")}))}()}},"Schedule"))}function N(e){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("center",{style:{visibility:e._PatientList.length>0?"visible":"hidden",width:"100%"}}),l.a.createElement("table",{className:"table",style:{visibility:e._PatientList.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Created Date"),l.a.createElement("th",null,"Created By"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,void 0!==e._PatientList&&e._PatientList.length>0?e._PatientList.map((function(a,n){return l.a.createElement("tr",{key:"0"},l.a.createElement("td",{key:n},n+1),l.a.createElement("td",{key:a.name},a.name),l.a.createElement("td",{key:a.address},a.address),l.a.createElement("td",{key:a.email},a.email),l.a.createElement("td",{key:a.mobilenumber},a.mobilenumber),l.a.createElement("td",{key:a.dateregistered},a.dateregistered),l.a.createElement("td",{key:a.user.username},a.user.username),l.a.createElement("td",{key:"delete"},l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.Delete(t,a.id,n)}},"Delete"),"|"," ",l.a.createElement(y.a,{trigger:l.a.createElement("button",{className:"btn btn-primary"}," Schedule "),modal:!0,closeOnDocumentClick:!0},l.a.createElement(v,{userdata:a,doctorList:e.DoctorList,closeOnDocumentClick:!0}))))})):e._PatientList)))}function O(e){var t=j(""),a=j(""),r=j(""),c=j(""),i=Object(n.useState)([]),m=Object(o.a)(i,2),d=m[0],f=m[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),y=b[0],v=b[1],O=Object(n.useState)(""),D=Object(o.a)(O,2),S=D[0],w=D[1],k=Object(n.useState)([]),C=Object(o.a)(k,2),x=C[0],T=C[1];return Object(n.useEffect)((function(){document.title="Manage Patients"})),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"patient/getall").then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y,S]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"user/getAll").then((function(e){return e.json()})).then((function(e){T(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),void 0===e.location.state.props.role||e.location.state.props.role.includes("All","Receptionist")?l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Patient"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Full Name"),"\xa0",l.a.createElement("input",{type:"text",value:t.value,onChange:t.onChange,className:"form-control LoginInputTextSize"}),l.a.createElement("span",{className:"logintextheader"},"Email"),"\xa0",l.a.createElement("input",{type:"email",value:r.value,onChange:r.onChange,className:"form-control LoginInputTextSize"}),l.a.createElement("span",{className:"logintextheader"},"Mobile Number"),"\xa0",l.a.createElement("input",{type:"phone",value:c.value,onChange:c.onChange,className:"form-control LoginInputTextSize"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Address"),"\xa0",l.a.createElement("textarea",{value:a.value,placeholder:"Enter Address",className:"form-control",onChange:a.onChange}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:function(n){if(""===t.value)return alert("Enter Patient Name");if(""===r.value)return alert("Enter Email");if(""===c.value)return alert("Enter Mobile Number");if(""===a.value)return alert("Enter Addres");var l={name:t.value,email:r.value,mobilenumber:c.value,address:a.value,dateregistered:(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate(),createdby:e.location.state.props.user.id};fetch(u+"patient/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.text()})).then((function(e){return"OK"===e?(alert("Patient Added Successfully!"),t.setValue(t,""),r.setValue(r,""),c.setValue(c,""),a.setValue(a,""),void w("true")):alert("Patient Already Exists")})).catch((function(e){alert("An error occured while processing your request")}))}},"Save"))),l.a.createElement("br",null),l.a.createElement(N,{_PatientList:d,Delete:function(e,t){if(!window.confirm("Are you sure you want to delete this patient?"))return!1;fetch(u+"patient/delete/"+t,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){e&&(alert("Patient deleted Successfully!"),v(!0))})).catch((function(e){alert("An error occured while performing your request!")}))},DoctorList:x}),l.a.createElement("br",null)):l.a.createElement(s.a,{to:"/unauthorized"})}function j(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)},setValue:function(e,t){r(t)}}}function D(){return l.a.createElement("div",{style:{width:"100%",bottom:"0",position:"fixed",alignItems:"Center"}},"\xa9 Copyright ",(new Date).getFullYear().toString()," Clinical Management System")}function S(e){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("center",{style:{visibility:void 0!==e.userlist&&e.userlist.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("div",{style:{float:"left",marginLeft:"30%"}},l.a.createElement("label",null,"Search")),l.a.createElement("input",{type:"text",className:"form-control",style:{width:"30%",marginRight:"32%",alignSelf:"center"},placeholder:"Enter Name or Mobile Number"}),l.a.createElement("br",null)),l.a.createElement("table",{className:"table",style:{visibility:void 0!==e.userlist&&e.userlist.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Created Date"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Department"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Specialty"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,void 0!==e.userlist&&e.userlist.length>0?e.userlist.map((function(a,n){return l.a.createElement("tr",{key:n+1},l.a.createElement("td",{key:n},n+1),l.a.createElement("td",{key:a.name},a.name),l.a.createElement("td",{key:a.address},a.address),l.a.createElement("td",{key:a.email},a.email),l.a.createElement("td",{key:a.mobilenumber},a.mobilenumber),l.a.createElement("td",{key:a.datecreated},a.datecreated),l.a.createElement("td",{key:a.role.name},a.role.name),l.a.createElement("td",{key:a.department.name},a.department.name),l.a.createElement("td",{key:a.stafftype.name},a.stafftype.name),l.a.createElement("td",{key:a.specialty.name},a.specialty.name),l.a.createElement("td",{key:"edit"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.Edit(t,a.id,a)}},"Edit")),l.a.createElement("td",{key:"delete"},l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.Delete(t,a.id,n)}},"Delete")))})):e.userlist)))}function w(e){var t=k(""),a=k(""),r=k(""),c=k(""),i=k(""),m=k(0),d=k(0),f=k(0),h=k(0),b=k(0),y=Object(n.useState)([]),v=Object(o.a)(y,2),N=v[0],O=v[1],j=Object(n.useState)([]),D=Object(o.a)(j,2),w=D[0],C=D[1],x=Object(n.useState)([]),T=Object(o.a)(x,2),A=T[0],P=T[1],L=Object(n.useState)([]),M=Object(o.a)(L,2),W=M[0],R=M[1],V=Object(n.useState)([]),I=Object(o.a)(V,2),q=I[0],U=I[1],F=Object(n.useRef)(null),z=Object(n.useState)(""),Y=Object(o.a)(z,2),B=Y[0],J=Y[1];Object(n.useEffect)((function(){document.title="Manage Staff"})),Object(n.useEffect)((function(){F.current.focus(),function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"department/getall").then((function(e){return e.json()})).then((function(e){O(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"role/getall").then((function(e){return e.json()})).then((function(e){C(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"stafftype/getall").then((function(e){return e.json()})).then((function(e){P(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"specialty/getall").then((function(e){return e.json()})).then((function(e){R(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"user/getall").then((function(e){return e.json()})).then((function(e){U(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[B]);var K=function(){a.value="",c.value="",i.value="",r.value="",m.value="",d.value="",f.value="",t.value="",h.value="",b.value=0},_=function(){t.setValue(t,""),i.setValue(i,""),a.setValue(a,""),c.setValue(c,""),r.setValue(r,""),f.setValue(f,""),m.setValue(m,""),d.setValue(d,""),h.setValue(h,""),b.setValue(b,"")};return void 0===e.location.state.props.role||e.location.state.props.role.includes("All","User")?l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Staff/users"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Full Name"),"\xa0",l.a.createElement("input",{type:"text",ref:F,value:t.value,onChange:t.onChange,className:"form-control LoginInputTextSize"}),l.a.createElement("span",{className:"logintextheader"},"Email"),"\xa0",l.a.createElement("input",{type:"email",value:i.value,onChange:i.onChange,className:"form-control LoginInputTextSize"}),l.a.createElement("span",{className:"logintextheader"},"Mobile Number"),"\xa0",l.a.createElement("input",{type:"phone",value:c.value,onChange:c.onChange,className:"form-control LoginInputTextSize"}),l.a.createElement("span",{className:"logintextheader"},"Address"),"\xa0",l.a.createElement("textarea",{value:r.value,placeholder:"Enter Address",className:"form-control LoginInputTextSize",onChange:r.onChange}),l.a.createElement("span",{className:"logintextheader"},"Username"),"\xa0",l.a.createElement("input",{type:"text",value:a.value,onChange:a.onChange,readOnly:b.value>0,className:"form-control LoginInputTextSize"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Staff Type"),"\xa0",l.a.createElement("select",{value:d.value,onChange:d.onChange,className:"form-control LoginInputTextSize"},l.a.createElement("option",null,"--Select"),A.length>0?A.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})):0),l.a.createElement("span",{className:"logintextheader"},"Specialty"),"\xa0",l.a.createElement("select",{value:m.value,onChange:m.onChange,className:"form-control LoginInputTextSize"},l.a.createElement("option",null,"--Select"),W.length>0?W.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})):0),l.a.createElement("span",{className:"logintextheader"},"Department"),"\xa0",l.a.createElement("select",{value:f.value,onChange:f.onChange,className:"form-control LoginInputTextSize"},l.a.createElement("option",null,"--Select"),N.length>0?N.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})):0),l.a.createElement("span",{className:"logintextheader"},"Role Id"),"\xa0",l.a.createElement("select",{value:h.value,onChange:h.onChange,className:"form-control LoginInputTextSize"},l.a.createElement("option",null,"--Select"),w.length>0?w.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})):0),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:function(){if(""===t.value)return alert("Enter staff Name");if(""===i.value)return alert("Enter Email");if(""===c.value)return alert("Enter Mobile Number");if(""===r.value)return alert("Enter Addres");if(""===a.value)return alert("Enter Username");if(""===d.value)return alert("Select Staff Type");if(""===m.value)return alert("Select Specialty");if(""===f.value)return alert("Select Department");if(""===h.value)return alert("Select Role");var e={username:a.value,mobilenumber:c.value,email:i.value,address:r.value,password:"user1",specialtyid:m.value,stafftypeid:d.value,departmentid:f.value,name:t.value,datecreated:(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate(),roleid:h.value};b.value<1?fetch(u+"user/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("User created Successfully"),K(),void J("success");alert("Username already taken by another staff")})).catch((function(e){alert("An error occured while performing your request")})):fetch(u+"user/update/"+b.value,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("User Updated Successfully"),_(),void J("success");alert("An error occured while performing your request")})).catch((function(e){alert("An error occured while performing your request")}))}},b.value>0?"Update":"Save"),"\xa0\xa0",l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return _()},style:{visibility:b.value>0?"visible":"hidden"}},"Cancel"))),l.a.createElement(S,{userlist:q,Delete:function(e,t){window.confirm("Are you sure you want to delete this user?")&&fetch(u+"user/delete/"+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){alert("user deleted successfully!"),J("success")})).catch((function(e){alert("An error occured while processing your request")}))},Edit:function(e,n,l){t.setValue(t,l.name),i.setValue(i,l.email),a.setValue(a,l.username),c.setValue(c,l.mobilenumber),r.setValue(r,l.address),f.setValue(f,l.departmentid),m.setValue(m,l.specialtyid),d.setValue(d,l.stafftypeid),h.setValue(h,l.roleid),b.setValue(b,l.id)}})):l.a.createElement(s.a,{to:"/unauthorized"})}function k(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)},setValue:function(e,t){r(t)}}}function C(e){for(var t=this,a=Object(n.useState)(1),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(50),u=Object(o.a)(s,2),m=u[0],d=u[1],f=[],E=function(e){i(Number(e.target.id))},h=1;h<=Math.ceil(void 0===e.Diseases?0:e.Diseases.length/m);h++)f.push(h);var b=c*m,p=b-m,g=e.Diseases.slice(p,b),y=f.map((function(e){return l.a.createElement("ul",{className:"pagination",style:{display:"inline-block",alignItems:"center"}},l.a.createElement("li",{className:"page-link",style:{listStyleType:"none"},key:e,id:e,onClick:E},e))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("center",{style:{visibility:void 0!==e.Diseases&&e.Diseases.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("label",{style:{float:"left"}},"Sort Disease Per Page "),"\xa0\xa0\xa0",l.a.createElement("select",{className:"form-control",style:{width:"10%",float:"left",marginLeft:"30px",alignSelf:"center"},value:m,onChange:function(e){d(e.target.value)}},l.a.createElement("option",{key:"50",value:"50"},"50"),l.a.createElement("option",{key:"100",value:"100"},"100"),l.a.createElement("option",{key:"500",value:"500"},"500")),l.a.createElement("label",{style:{float:"right",marginRight:"50px",fontWeight:"bold"}},"Total Registered Diseases.",e.Diseases.length," "),"\xa0\xa0\xa0",l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",null),l.a.createElement("table",{className:"table",style:{visibility:void 0!==e.Diseases&&e.Diseases.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Edit"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,void 0!==g&&g.length>0?g.map((function(a,n){return l.a.createElement("tr",{key:n+1},l.a.createElement("td",{key:n},n+1),l.a.createElement("td",{key:a.name},a.name),l.a.createElement("td",{key:"edit"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.Edit(t,a)}},"Edit")),l.a.createElement("td",{key:"delete"},l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.Delete(t,a.id,n)}},"Delete")))})):e.Diseases)),l.a.createElement("center",null," ",y," "))}function x(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(0),h=Object(o.a)(f,2),b=h[0],y=h[1],v=Object(n.useState)(0),N=Object(o.a)(v,2),O=N[0],j=N[1],D=Object(n.useRef)(null);Object(n.useEffect)((function(){document.title="Manage Diseases",D.current.focus()})),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"condition/getall").then((function(e){return e.json()})).then((function(e){d(e)})).catch((function(e){alert("An error occured while fetching the disease list")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O]);var S=function(){c(""),y(0)};return l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Disease(s)."),l.a.createElement("center",null,l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Disease Name"),"\xa0",l.a.createElement("br",null),l.a.createElement("input",{type:"text",ref:D,value:r,onChange:function(e){c(e.target.value)},style:{float:"left"},className:"form-control LoginInputTextSize"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(e){if(""===r)return alert("Enter disease name");var t={name:r};b>0?fetch(u+"condition/update/"+b,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("Disease has been updated successfully!"),j(b),void S()})).catch((function(e){alert("An error occured while performing your request!")})):fetch(u+"condition/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("Disease added successfully!"),void j(1);alert("Disease already exists")}))}()}},b>0?"Update":"Save")," \xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-danger",style:{visibility:b>0?"visible":"hidden"},onClick:function(){return y(0),void c("")}},"Cancel"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(C,{Diseases:m,Edit:function(e,t){c(t.name),y(t.id)},Delete:function(e,t){window.confirm("Are you sure you want to delete this disease?")&&fetch(u+"condition/delete/"+t,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("Disease deleted successfully!"),j(t),void S();alert("An error occured while performing your request!")})).catch((function(e){alert("An error occured while performing your request")}))},Search:function(e,t){fetch(u+"condition/search/"+e).then((function(e){return e.json()})).then((function(e){}))}}))}function T(e){for(var t=this,a=Object(n.useState)(1),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(50),u=Object(o.a)(s,2),m=u[0],d=u[1],f=[],E=function(e){i(Number(e.target.id))},h=1;h<=Math.ceil(void 0===e.Diseases?0:e.Diseases.length/m);h++)f.push(h);var b=c*m,p=b-m,g=e.Diseases.slice(p,b),y=f.map((function(e){return l.a.createElement("ul",{className:"pagination",style:{display:"inline-block",alignItems:"center"}},l.a.createElement("li",{className:"page-link",style:{listStyleType:"none"},key:e,id:e,onClick:E},e))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("center",{style:{visibility:void 0!==e.Diseases&&e.Diseases.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("label",{style:{float:"left"}},"Sort Department Per Page "),"\xa0\xa0\xa0",l.a.createElement("select",{className:"form-control",style:{width:"10%",float:"left",marginLeft:"30px",alignSelf:"center"},value:m,onChange:function(e){d(e.target.value)}},l.a.createElement("option",{key:"50",value:"50"},"50"),l.a.createElement("option",{key:"100",value:"100"},"100"),l.a.createElement("option",{key:"500",value:"500"},"500")),l.a.createElement("label",{style:{float:"right",marginRight:"50px",fontWeight:"bold"}},"Total Registered Department(s).",e.Diseases.length," "),"\xa0\xa0\xa0",l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",null),l.a.createElement("table",{className:"table",style:{visibility:void 0!==e.Diseases&&e.Diseases.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Created by"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,void 0!==g&&g.length>0?g.map((function(a,n){return l.a.createElement("tr",{key:n+1},l.a.createElement("td",{key:n},n+1),l.a.createElement("td",{key:a.name},a.name),l.a.createElement("td",{key:a.user.username+n},a.user.username),l.a.createElement("td",{key:"edit"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.Edit(t,a)}},"Edit")," ","|"," ",l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.Delete(t,a.id,n)}},"Delete")))})):e.Diseases)),l.a.createElement("center",null," ",y," "))}function A(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(0),h=Object(o.a)(f,2),b=h[0],y=h[1],v=Object(n.useState)(""),N=Object(o.a)(v,2),O=N[0],j=N[1],D=Object(n.useRef)(null);Object(n.useEffect)((function(){document.title="Manage Department",D.current.focus()})),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"department/getall").then((function(e){return e.json()})).then((function(e){d(e)})).catch((function(e){alert("An error occured while fetching the department list")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O]);var S=function(){c(""),y(0)};return l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Department(s)."),l.a.createElement("center",null,l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("br",null),l.a.createElement("span",{className:"logintextheader"},"Department Name"),"\xa0",l.a.createElement("br",null),l.a.createElement("input",{type:"text",ref:D,value:r,onChange:function(e){c(e.target.value)},style:{float:"left"},className:"form-control LoginInputTextSize"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(t){if(""===r)return alert("Enter department name");var a={name:r,createdby:e.location.state.props.user.id};b>0?fetch(u+"department/update/"+b,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("department has been updated successfully!"),j("updated"),void S()})).catch((function(e){alert("An error occured while performing your request!")})):fetch(u+"department/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("Department added successfully!"),j("updated"),void c("");alert("Department already exists")}))}()}},b>0?"Update":"Save")," ","\xa0\xa0\xa0",l.a.createElement("button",{className:"btn btn-danger",style:{visibility:b>0?"visible":"hidden"},onClick:function(){return y(0),void c("")}},"Cancel"))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(T,{Diseases:m,Edit:function(e,t){c(t.name),y(t.id)},Delete:function(e,t){window.confirm("Are you sure you want to delete this department?")&&fetch(u+"department/delete/"+t,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return alert("Department deleted successfully!"),j("success"),void S();alert("An error occured while performing your request because this department is mapped to employees. if you wish to delete this department, kindly delete the employees attached to it or update their department(s).")})).catch((function(e){alert("Cannot delete the department because it is mapped to employees")}))}}))}function P(e){return null!==e.medicalDetails?l.a.createElement("center",null,l.a.createElement("div",{className:"row",style:{width:"100%",border:"1px solid black",borderRadius:"20px"}},l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-5"},"Date Visited: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.datevisited),l.a.createElement("br",null),"Complaint: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.complaints),l.a.createElement("br",null),"Test Required?: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.istestrequired),l.a.createElement("br",null),"Test Details: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.testdetails),l.a.createElement("br",null),"Test Results: ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.testresult?"No Results Yet":e.medicalDetails.testresult.testupload),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-5"},"Test Done By: ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.user?"No One has conducted test for the patient":e.medicalDetails.user.name),l.a.createElement("br",null),"Diagnosed ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.condition?"No Diagnosis Yet":e.medicalDetails.condition.name),l.a.createElement("br",null),"Prescription: ",l.a.createElement("label",{style:{fontWeight:"bold"}},""===e.medicalDetails.prescription?"No prescription Yet":e.medicalDetails.prescription),l.a.createElement("br",null)))):l.a.createElement("div",null)}function L(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(null),E=Object(o.a)(f,2),h=E[0],b=E[1];return Object(n.useEffect)((function(){fetch(u+"medicalhistory/getbyid/"+e.userdetals.userdata.patient.id).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){alert(e.message)}))}),[e.userdetals.userdata.patient.id]),l.a.createElement("div",{style:{overflowY:"scroll"}},l.a.createElement("h6",{style:{float:"left"}},"Medical History for ",e.userdetals.userdata.patient.name),l.a.createElement("br",null),l.a.createElement("div",{id:"demo",className:"collapse"+(m?" in":"")},l.a.createElement("div",null,l.a.createElement(P,{userdetals:e,medicalDetails:h}))),l.a.createElement("table",{className:"table",style:{visibility:r.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Date Visited"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,void 0!==r&&r.length>0?r.map((function(e,t){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",{key:t},t+1),l.a.createElement("td",{key:e.patient.name},e.patient.name),l.a.createElement("td",{key:e.datevisited},e.datevisited),l.a.createElement("td",{key:"delete"},l.a.createElement("button",{className:"btn btn-info",onClick:function(){return b(e),void d(!m)}},"View details")))})):"No Medical History Found")))}function M(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),h=E[0],b=E[1],p=Object(n.useState)(""),g=Object(o.a)(p,2),y=g[0],v=g[1],N=Object(n.useState)(!1),O=Object(o.a)(N,2),j=O[0],D=O[1],S=Object(n.useRef)(null);Object(n.useEffect)((function(){S.current.focus()}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Details for ",e.userdata.patient.name),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Name : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.name),l.a.createElement("br",null),"Email Address : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.email),l.a.createElement("br",null),"Mobile Number : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.mobilenumber),l.a.createElement("br",null),"Current BP: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.bp),l.a.createElement("br",null),"Current Weight: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.weight)),l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Complaint :"," ",l.a.createElement("textarea",{className:"form-control",ref:S,value:m,onChange:function(e){d(e.target.value)}}),"IsTestRequired? :",l.a.createElement("select",{className:"form-control",value:r,onChange:function(e){c(e.target.value)}},l.a.createElement("option",null,"--select--"),l.a.createElement("option",{key:"Yes",value:"Yes"},"Yes"),l.a.createElement("option",{key:"No",value:"No"},"No")),l.a.createElement("span",{style:{visibility:"Yes"===r?"visible":"hidden",display:"No"===r?"none":""}},"Test details :"," ",l.a.createElement("textarea",{className:"form-control",value:h,onChange:function(e){b(e.target.value)}})),l.a.createElement("span",{style:{visibility:"No"===r?"visible":"hidden",display:"Yes"===r?"none":""}},"Prescription :"," ",l.a.createElement("textarea",{className:"form-control",value:y,onChange:function(e){v(e.target.value)}})))),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(t){if(""===m.trim())return alert("Enter patient complaint");if(""===r)return alert("Select if test is required");if("Yes"===r&&""===h.trim())return alert("Enter test details");if("No"===r&&""===y.trim())return alert("Enter patient prescription");var a={complaints:m,istestrequired:r,prescription:y,testdetails:h,attendedto:"No"===r?"Yes":"No",actiontaken:"No"===r?"Patient Given Medication":""};fetch(u+"medicalhistory/update/"+e.userdata.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){alert("Details saved successfully!"),window.location.reload(!0)})).catch((function(e){alert("An error occured while processing your request!.")}))}()}},"Send")," ",l.a.createElement("button",{className:"btn btn-primary",onClick:function(e){D(!j)}},"View Medical History"),l.a.createElement("div",{id:"demo",className:"collapse"+(j?" in":"")},l.a.createElement("div",null,l.a.createElement(L,{userdetals:e}))))}function W(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){f.current.focus()}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Details for ",e.userdata.patient.name),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Name : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.name),l.a.createElement("br",null),"Email Address : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.email),l.a.createElement("br",null),"Mobile Number : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.mobilenumber),l.a.createElement("br",null),"Current BP: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.bp),l.a.createElement("br",null),"Current Weight: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.weight)),l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Complaint : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.complaints),l.a.createElement("br",null),"Test Details : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.testdetails),l.a.createElement("br",null),"Test Result : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.testresult.testupload),l.a.createElement("br",null),"Diagnosed:",l.a.createElement("select",{className:"form-control",value:r,onChange:function(e){c(e.target.value)}},l.a.createElement("option",{key:"0",value:"0"},"--Select--"),void 0!==e.diseases&&e.diseases.length>0?e.diseases.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})):0),"Prescription :"," ",l.a.createElement("textarea",{className:"form-control",ref:f,value:m,onChange:function(e){d(e.target.value)}}),l.a.createElement("br",null))),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(t){if(""===m.trim())return alert("Enter prescription");if(0===r)return alert("Select disease diagnosed");var a={prescription:m,actiontaken:m,conditionid:r,attendedto:"TRUE"};fetch(u+"medicalhistory/doctorupdate/"+e.userdata.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){alert("Details saved successfully!"),window.location.reload(!0)})).catch((function(e){alert("An error occured while processing your request!.")}))}()}},"Save"))}function R(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),m=s[0],d=s[1],f=Object(n.useState)(""),h=Object(o.a)(f,2),b=h[0],v=h[1];Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"condition/getAll").then((function(e){return e.json()})).then((function(e){d(e)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"medicalhistory/getMedicalHistoryByDate/"+(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate()).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){alert("An error occured while fetching complaints for today")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Patient Complaints"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("div",{className:"alert alert-info",style:{visibility:r.length<1?"visible":"hidden"}},"Dear ",e.location.state.props.user.name,", There are ",r.length," pending complaint(s) for today.")),l.a.createElement("table",{className:"table",style:{visibility:r.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Date Visited"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,r.length>0?r.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{key:a},a+1),l.a.createElement("td",{key:t.patient.name},t.patient.name),l.a.createElement("td",{key:t.patient.address},t.patient.address),l.a.createElement("td",{key:t.patient.email},t.patient.email),l.a.createElement("td",{key:t.patient.mobilenumber},t.patient.mobilenumber),l.a.createElement("td",{key:t.datevisited},t.datevisited),l.a.createElement("td",{key:"delete"},l.a.createElement(y.a,{trigger:l.a.createElement("button",{className:"btn btn-primary"}," View Details "),modal:!0,closeOnDocumentClick:!0},t.istesttaken?l.a.createElement(W,{userdata:t,diseases:m,loggedinuser:e}):l.a.createElement(M,{userdata:t,diseases:m,loggedinuser:e})),"|",l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e=t.id,void(window.confirm("Are you aure you want to delete?")&&fetch(u+"medicalhistory/deletecomplaint/"+e,{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){if("OK"===e)return v("success"),alert("Record deleted successfully!");alert("An error occured while trying to delete this record")})).catch((function(e){alert("An error occured while performing the delete operation")})));var e}},"Delete")))})):r)))}function V(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(null);Object(n.useEffect)((function(){i.current.focus()}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Test Details For ",e.userdata.patient.name),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Name : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.name),l.a.createElement("br",null),"Email Address : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.email),l.a.createElement("br",null),"Mobile Number : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.patient.mobilenumber),l.a.createElement("br",null),"Current BP: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.bp),l.a.createElement("br",null),"Current Weight: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.weight)),l.a.createElement("div",{className:"col-lg-5"},l.a.createElement("br",null),"Complaint : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.complaints),l.a.createElement("br",null),"Test Details : ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.userdata.testdetails),l.a.createElement("br",null),"Enter Result :"," ",l.a.createElement("textarea",{className:"form-control",ref:i,value:r,onChange:function(e){c(e.target.value)}}),l.a.createElement("br",null))),l.a.createElement("button",{className:"btn btn-success",onClick:function(){return function(t){if(""===r.trim())return alert("Enter Test Result");var a={patientid:e.userdata.patient.id,testrecommendedby:e.userdata.doctorvisited,testdetails:e.userdata.testdetails,testupload:r,uploadedby:e.loggedinuser.location.state.props.user.id,testdobneby:e.loggedinuser.location.state.props.user.id,datedone:(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate(),medicalhistoryid:e.userdata.id,istesttaken:"TRUE"};fetch(u+"testresult/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(e){alert("Details saved successfully!"),window.location.reload(!0)})).catch((function(e){alert("An error occured while processing your request!.")}))}()}},"Send To Doctor"))}function I(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u+"medicalhistory/getPendingTest/"+(new Date).getFullYear()+"-"+(parseInt((new Date).getMonth().toString())+1)+"-"+(new Date).getDate()).then((function(e){return e.json()})).then((function(e){c(e)})).catch((function(e){alert("An error occured while fetching complaints for today")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Manage Pending Test(s)"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("div",{className:"alert alert-info",style:{visibility:r.length<1?"visible":"hidden"}},"Dear ",e.location.state.props.user.name,", There are ",r.length," pending Test(s) for today.")),l.a.createElement("table",{className:"table",style:{visibility:r.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Date Visited"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,r.length>0?r.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{key:a},a+1),l.a.createElement("td",{key:t.patient.name},t.patient.name),l.a.createElement("td",{key:t.patient.address},t.patient.address),l.a.createElement("td",{key:t.patient.email},t.patient.email),l.a.createElement("td",{key:t.patient.mobilenumber},t.patient.mobilenumber),l.a.createElement("td",{key:t.datevisited},t.datevisited),l.a.createElement("td",{key:"delete"},l.a.createElement(y.a,{trigger:l.a.createElement("button",{className:"btn btn-primary"}," View Details "),modal:!0,closeOnDocumentClick:!0},l.a.createElement(V,{userdata:t,loggedinuser:e}))))})):r)))}function q(e){return null!==e.medicalDetails?l.a.createElement("center",null,l.a.createElement("div",{className:"row",style:{width:"100%",border:"1px solid black",borderRadius:"20px"}},l.a.createElement("br",null),l.a.createElement("div",{className:"col-md-5"},"Date Visited: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.datevisited),l.a.createElement("br",null),"Complaint: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.complaints),l.a.createElement("br",null),"Test Required?: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.istestrequired),l.a.createElement("br",null),"Test Details: ",l.a.createElement("label",{style:{fontWeight:"bold"}},e.medicalDetails.testdetails),l.a.createElement("br",null),"Test Results: ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.testresult?"No Results Yet":e.medicalDetails.testresult.testupload),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-md-5"},"Test Done By: ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.user?"No One has conducted test for the patient":e.medicalDetails.user.name),l.a.createElement("br",null),"Diagnosed ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.condition?"No Diagnosis Yet":e.medicalDetails.condition.name),l.a.createElement("br",null),"Prescription: ",l.a.createElement("label",{style:{fontWeight:"bold"}},""===e.medicalDetails.prescription?"No prescription Yet":e.medicalDetails.prescription),l.a.createElement("br",null),"Doctor: ",l.a.createElement("label",{style:{fontWeight:"bold"}},null===e.medicalDetails.user?"No doctor yet":e.medicalDetails.user.name),l.a.createElement("br",null)))):l.a.createElement("div",null)}function U(e){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"table",style:{visibility:void 0!==e.Report&&e.Report.length>0?"visible":"hidden",width:"100%"}},l.a.createElement("thead",{className:"thead-dark",style:{width:"100%"}},l.a.createElement("tr",null,l.a.createElement("th",null,"S/N"),l.a.createElement("th",null,"full Name"),l.a.createElement("th",null,"Address"),l.a.createElement("th",null,"Email Address"),l.a.createElement("th",null,"Mobile Number"),l.a.createElement("th",null,"Date Visited"),l.a.createElement("th",null,"Disease"),l.a.createElement("th",null,"View"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,void 0!==e.Report&&e.Report.length>0?e.Report.map((function(a,n){return l.a.createElement("tr",{key:a.id},l.a.createElement("td",{key:n},n+1),l.a.createElement("td",{key:a.patient.name},a.patient.name),l.a.createElement("td",{key:a.patient.address},a.patient.address),l.a.createElement("td",{key:a.patient.email},a.patient.email),l.a.createElement("td",{key:a.patient.mobilenumber},a.patient.mobilenumber),l.a.createElement("td",{key:a.datevisited},a.datevisited),l.a.createElement("td",{key:null===a.condition?"NIL":a.condition.name},null===a.condition?"NIL":a.condition.name),l.a.createElement("td",{key:"view"},l.a.createElement(y.a,{trigger:l.a.createElement("button",{className:"btn btn-primary"}," View Details "),modal:!0,closeOnDocumentClick:!0},l.a.createElement(q,{medicalDetails:a}))),l.a.createElement("td",{key:"delete"},l.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleDelete(t,a.id)}},"Delete")))})):0)))}function F(e){var t=z(""),a=z(""),r=Object(n.useState)([]),c=Object(o.a)(r,2),i=c[0],s=c[1],m=Object(n.useState)([]),d=Object(o.a)(m,2),f=d[0],h=d[1],b=Object(n.useState)(0),p=Object(o.a)(b,2),g=p[0],y=p[1];Object(n.useEffect)((function(){fetch(u+"condition/getall").then((function(e){return e.json()})).then((function(e){return h(e)})).catch((function(e){}))}),[h]);var v=function(){if(""===t.value)return alert("Please Select A Start Date");if(""===a.value)return alert("Please Select A End Date");if(new Date(t.value)>new Date(a.value))alert("Start date cannot be greater than End date");else{var e={fromdate:t.value,enddate:a.value};g>0?fetch(u+"medicalhistory/analysis/"+g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return alert("An error occured while performing your request")})):fetch(u+"medicalhistory/analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){alert("An error occured while performing your requests!")}))}};return l.a.createElement("div",null,l.a.createElement(E,{user:e.location.state.props.user,role:e.location.state.props.role}),l.a.createElement("h3",{style:{float:"left"}},"Clinical Analysis"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("center",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Start Date",l.a.createElement("input",{type:"date",value:t.value,onChange:t.onChange,className:"form-control"})),l.a.createElement("th",null),l.a.createElement("th",{style:{marginLeft:"130px"}},"End Date",l.a.createElement("input",{type:"date",value:a.value,onChange:a.onChange,className:"form-control"})),l.a.createElement("th",null),l.a.createElement("th",{style:{marginLeft:"130px"}},l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",onClick:v},"Search")),l.a.createElement("th",null),l.a.createElement("th",null),l.a.createElement("td",null)))),l.a.createElement("br",null),"Filter By Disease",l.a.createElement("select",{className:"form-control",style:{width:"25%",marginLeft:"10px"},value:g,onChange:function(e){y(e.target.value)}},l.a.createElement("option",null,"-- Select--"),f.length>0?f.map((function(e){return l.a.createElement("option",{value:e.id,key:e.name+e.id},e.name)})):0)),l.a.createElement("br",null),l.a.createElement(U,{Report:i,handleDelete:function(e,t,a){window.confirm("Are you sure you want to delete this record?")&&fetch(u+"medicalhistory/deleteinfo/"+t,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return e.text()})).then((function(e){"OK"===e?(alert("Record deleted Successfully!"),v()):alert("An error occured while performing your requests!")})).catch((function(e){alert("An error occured while performing your requests")}))}}))}function z(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),l=a[0],r=a[1];return{value:l,onChange:function(e){r(e.target.value)}}}var Y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(i.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/",exact:!0,component:m}),l.a.createElement(s.b,{path:"/ForgotPassword",component:f}),l.a.createElement(s.b,{path:"/Login",component:m}),l.a.createElement(s.b,{path:"/DashBoard",component:h}),l.a.createElement(s.b,{path:"/ManagePatient",component:O}),l.a.createElement(s.b,{path:"/ManageStaff",component:w}),l.a.createElement(s.b,{path:"/ManageDisease",component:x}),l.a.createElement(s.b,{path:"/managedepartment",component:A}),l.a.createElement(s.b,{path:"/managecomplaints",component:R}),l.a.createElement(s.b,{path:"/manageTests",component:I}),l.a.createElement(s.b,{path:"/managereports",component:F}))),l.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.a5a9cad6.chunk.js.map